(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{393:function(s,n,t){"use strict";t.r(n);var a=t(45),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("p",[s._v("Spring çš„å‡ºç°æ˜¯å¯¹å¹¿å¤§ Java Web å¼€å‘è€…çš„ç¦éŸ³ï¼Œå¸®åŠ©æˆ‘ä»¬è§£å†³äº†ä¼—å¤šé—®é¢˜å¹¶ä¸”æä¾›äº†å¾ˆå¤šä¾¿åˆ©")]),s._v(" "),t("p",[s._v("å†™æ­¤æ–‡ç« ä¸»è¦æ¥è¯´æ˜å¯¹äº Spring IOC å®¹å™¨ä¸­æ³¨å†Œ Bean çš„æ–¹å¼ä¸»è¦æœ‰å“ªå‡ ç§")]),s._v(" "),t("p",[s._v("å¦‚æœä½ ä»¥ä¸ºæˆ‘ä¼šå‘Šè¯‰ä½ ")]),s._v(" "),t("ul",[t("li",[s._v("@Bean")]),s._v(" "),t("li",[s._v("@Importã€@ImportSelector...")]),s._v(" "),t("li",[s._v("@Serviceã€@Component...")])]),s._v(" "),t("p",[s._v("å¾ˆé—æ†¾çš„è¯´ï¼š"),t("strong",[s._v("æ ¼å±€å°äº†å…„å¼Ÿ...")])]),s._v(" "),t("p",[s._v("è™½ç„¶è¿™ç¯‡æ–‡ç« æ˜¯ä½œè€…çœ‹ Mybatis Spring é›†æˆæºç ä¹‹åï¼Œå†³å®šå…ˆæ°´ä¸€ç¯‡æ¢è·¯çš„æ–‡ç« ")]),s._v(" "),t("p",[s._v("ä½†æ˜¯ï¼"),t("strong",[s._v("æ°´ä¹Ÿå¾—æ°´å‡ºé«˜çº§æ„Ÿä¹ˆä¸æ˜¯")]),s._v("ï¼Œæ€ä¹ˆä¸å¾—è®©å°ä¼™ä¼´æœ‰ç‚¹æ”¶è·ï¼Œçœ‹ç‚¹å·¥ä½œä¸­ä¸å¸¸ç”¨åˆ°çš„")]),s._v(" "),t("h2",{attrs:{id:"æ³¨å†Œ-ioc-å®¹å™¨-bean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œ-ioc-å®¹å™¨-bean"}},[s._v("#")]),s._v(" æ³¨å†Œ IOC å®¹å™¨ Bean")]),s._v(" "),t("p",[s._v("é™¤äº†ä¸Šæ–‡ä¸­è¯´åˆ°çš„æ³¨å†Œ Bean æ–¹å¼ï¼Œæ–‡ç« ä¸»è¦ä½¿ç”¨ BeanDefinitionRegistryPostProcessorï¼ˆä»¥ä¸‹ç®€ç§°ï¼šBDï¼‰ æ¥è¿›è¡Œ Bean æ³¨å†Œ")]),s._v(" "),t("p",[s._v("åè¯å¯èƒ½æ²¡å¬è¯´è¿‡ï¼Œä½†æ˜¯å¦‚æœè¯´å®ƒæ˜¯BeanFactoryPostProcessor åç½®å¤„ç†å™¨ï¼ˆä»¥ä¸‹ç®€ç§°BFï¼‰å­ç±»ï¼Œåº”è¯¥å°±æ¸…æ¥šå¾ˆå¤šäº†")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://images-machen.oss-cn-beijing.aliyuncs.com/image-20201125221631186.png",alt:""}})]),s._v(" "),t("p",[s._v("æ•´ä½“çš„å…³ç³»æ¯”è¾ƒç®€æ´ï¼Œåªæ˜¯ç»§æ‰¿äº† Spring åç½®å¤„ç†å™¨ï¼Œå…ˆçœ‹ä¸‹æ¥å£å®šä¹‰æ˜¯æ€ä¹ˆä»‹ç»çš„")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * Extension to the standard {@link BeanFactoryPostProcessor} SPI, allowing for\n * the registration of further bean definitions <i>before</i> regular\n * BeanFactoryPostProcessor detection kicks in. In particular,\n * BeanDefinitionRegistryPostProcessor may register further bean definitions\n * which in turn define BeanFactoryPostProcessor instances.\n *\n * @author Juergen Hoeller\n * @since 3.0.1\n * @see org.springframework.context.annotation.ConfigurationClassPostProcessor\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistryPostProcessor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanFactoryPostProcessor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t * Modify the application context's internal bean definition registry after its\n\t * standard initialization. All regular bean definitions will have been loaded,\n\t * but no beans will have been instantiated yet. This allows for adding further\n\t * bean definitions before the next post-processing phase kicks in.\n\t * @param registry the bean definition registry used by the application context\n\t * @throws org.springframework.beans.BeansException in case of errors\n\t */")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("postProcessBeanDefinitionRegistry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistry")]),s._v(" registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("æ¥å£ä¸Šé¢è¿™ä¸€æ®µè®©äººçœ‹ä¸æ‡‚çš„è‹±æ–‡è¯´çš„å•¥æ„æ€å‘¢ï¼Ÿ")]),s._v(" "),t("blockquote",[t("p",[s._v("å¤§è‡´è¯´çš„æ˜¯å½“å‰æ¥å£æ˜¯åç½®å¤„ç†å™¨çš„ SPI æ‰©å±•ï¼Œä¼šåœ¨åç½®å¤„ç†å™¨å·¥ä½œå‰å®šä¹‰æ›´å¤šçš„ Bean")])]),s._v(" "),t("p",[s._v("å› ä¸º BDï¼ˆå¯æ³¨å†ŒBeanæ¥å£ï¼‰ ç»§æ‰¿äº† BFï¼ˆåç½®å¤„ç†å™¨ï¼‰ æ¥å£ï¼Œæ‰€ä»¥å¦‚æœå®ç° BP å°±éœ€è¦å®ç°ä¸¤ä¸ªæ–¹æ³•")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanFactoryPostProcessor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("postProcessBeanFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConfigurableListableBeanFactory")]),s._v(" beanFactory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistryPostProcessor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("postProcessBeanDefinitionRegistry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistry")]),s._v(" registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("mybatis ä¸ spring æºç é›†æˆä¸Šä¹Ÿæ˜¯ä½¿ç”¨æ­¤æ–¹å¼ï¼Œå°† DAO å¯¹è±¡æ³¨å†Œ Spring IOC å®¹å™¨")])]),s._v(" "),t("p",[t("strong",[s._v("postProcessBeanFactory")])]),s._v(" "),t("p",[s._v("è¯¥æ–¹æ³•ä¸»è¦å¯¹å·²æ³¨å†Œ Spring Bean çš„å®šä¹‰åšå‡ºæ”¹å˜")]),s._v(" "),t("p",[t("strong",[s._v("postProcessBeanDefinitionRegistry")])]),s._v(" "),t("p",[s._v("è¯¥æ–¹æ³•ä¸»è¦æ˜¯å°† Bean å®šä¹‰æ³¨å†Œåˆ° Spring IOC å®¹å™¨ä¸­ï¼Œå…·ä½“çš„ Bean ç»†èŠ‚ä½“ç°å…¥å‚ BeanDefinitionRegistry")]),s._v(" "),t("p",[t("strong",[s._v("BeanDefinitionRegistry")])]),s._v(" "),t("p",[s._v("BeanDefinitionRegistry æ˜¯ä¸€ä¸ªæ¥å£å¹¶å®ç°äº† AliasRegistry æ¥å£ï¼Œå…¶ä¸­æ–¹æ³•å®šä¹‰äº†å¯¹ Bean çš„å¸¸ç”¨æ“ä½œ")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘IOCå®¹å™¨ä¸­æ³¨å†ŒBeanDefinitionå®ä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinition")]),s._v(" beanDefinition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionStoreException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç§»é™¤å·²å­˜åœ¨çš„BeanDefinitionå®ä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NoSuchBeanDefinitionException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–BeanDefinitionå®ä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinition")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NoSuchBeanDefinitionException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ¤æ–­beanNameæ˜¯å¦åœ¨IOCå®¹å™¨ä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("containsBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–IOCå®¹å™¨ä¸­æ‰€æœ‰å®ä¾‹åç§°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBeanDefinitionNames")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–IOCå®¹å™¨ä¸­å®ä¾‹æ•°é‡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBeanDefinitionCount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ¤æ–­beanNameæ˜¯å¦è¢«å ç”¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isBeanNameInUse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("postProcessBeanDefinitionRegistry æ–¹æ³•ç›´æ¥é€šè¿‡å…¥å‚å°±å¯ä»¥å®Œæˆ Bean çš„æ³¨å†Œã€ç§»é™¤ã€åˆ¤æ–­ç­‰ç­‰æ“ä½œ")]),s._v(" "),t("p",[s._v("AliasRegistry æ¥å£ä¸­å®šä¹‰çš„æ˜¯ IOC å®¹å™¨ Bean åˆ«åç®¡ç†ï¼Œå°±ä¸å†ä¸€ä¸€ä»‹ç»äº†")]),s._v(" "),t("h2",{attrs:{id:"ä»£ç å®æˆ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç å®æˆ˜"}},[s._v("#")]),s._v(" ä»£ç å®æˆ˜")]),s._v(" "),t("p",[s._v("åˆ›å»ºä¸€ä¸ª SpringBoot çš„é¡¹ç›®æˆ–è€…åœ¨å·²æœ‰é¡¹ç›®æµ‹è¯•éƒ½å¯ä»¥")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanRegistryTest")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistryPostProcessor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContextAware")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContext")]),s._v(" applicationContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("postProcessBeanDefinitionRegistry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionRegistry")]),s._v(" beanDefinitionRegistry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenericBeanDefinition")]),s._v(" parentBeanDef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GenericBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        parentBeanDef"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setBeanClass")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanRegistry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        beanDefinitionRegistry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerBeanDefinition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beanRegistry"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" rootBeanDefinition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("postProcessBeanFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConfigurableListableBeanFactory")]),s._v(" configurableListableBeanFactory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ³¨å†ŒBeanå¯¹è±¡ :: "')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" applicationContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beanRegistry"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContext")]),s._v(" applicationContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeansException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("applicationContext "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" applicationContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanRegistry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("GenericBeanDefinition æ˜¯ BeanDefinition æ¥å£é€šç”¨å®ç°ï¼Œè´Ÿè´£è®°å½• Bean å¯¹è±¡ä¿¡æ¯")]),s._v(" "),t("p",[s._v("ä»£ç æ¯”è¾ƒç®€å•æ˜äº†ï¼Œä¸ºäº†æ–¹ä¾¿åœ¨ä¸€ä¸ªç±»ä¸­å®ç°ï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å®Œæˆ Bean æ³¨å†Œæµ‹è¯•")]),s._v(" "),t("ol",[t("li",[s._v("é€šè¿‡å®ç° ApplicationContextAware æ¥å£èµ‹å€¼ ApplicationContext å¯¹è±¡")]),s._v(" "),t("li",[s._v("BeanDefinitionRegistryPostProcessor æ¥å£å®Œæˆå¯¹è±¡æ³¨å†Œä»¥åŠæ‰“å°å¯¹åº”æ³¨å†Œä¿¡æ¯")]),s._v(" "),t("li",[s._v("postProcessBeanDefinitionRegistry æ–¹æ³•ä¸­æ³¨å†Œ BeanRegistry åˆ° Spring IOC å®¹å™¨ä¸­")]),s._v(" "),t("li",[s._v("postProcessBeanFactory æ‰“å° Spring IOC å®¹å™¨ä¸­çš„ BeanRegistry å¯¹è±¡ä¿¡æ¯")])]),s._v(" "),t("h2",{attrs:{id:"ç»“è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¨€"}},[s._v("#")]),s._v(" ç»“è¨€")]),s._v(" "),t("p",[s._v("ç”±äºä½œè€…æ°´å¹³æœ‰é™, æ¬¢è¿å¤§å®¶èƒ½å¤Ÿåé¦ˆæŒ‡æ­£æ–‡ç« ä¸­é”™è¯¯ä¸æ­£ç¡®çš„åœ°æ–¹, æ„Ÿè°¢ ğŸ™")])])}),[],!1,null,null,null);n.default=e.exports}}]);